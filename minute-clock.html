<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minute Adventure Clock</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Courier New', monospace;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .clock-container {
            text-align: center;
            color: white;
            margin-bottom: 2rem;
        }

        .time-display {
            font-size: 4rem;
            font-weight: bold;
            text-shadow: 0 0 20px rgba(0,0,0,0.3);
            margin-bottom: 0.5rem;
        }

        .scenario-name {
            font-size: 1.2rem;
            opacity: 0.9;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .animation-arena {
            position: relative;
            width: 800px;
            height: 500px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .hero {
            position: absolute;
            font-size: 3rem;
            font-weight: bold;
            color: #ffd700;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
            z-index: 100;
        }

        .obstacle, .enemy, .platform, .wall, .goal, .asteroid, .coin {
            position: absolute;
            border-radius: 8px;
        }

        .wall {
            background: rgba(255, 255, 255, 0.8);
            box-shadow: 0 0 10px rgba(255,255,255,0.5);
        }

        .enemy {
            background: #ff4444;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            box-shadow: 0 0 20px rgba(255,68,68,0.6);
        }

        .platform {
            background: rgba(100, 200, 255, 0.6);
            border: 2px solid rgba(255,255,255,0.4);
        }

        .obstacle {
            background: #ff6b6b;
            border: 2px solid #ff5252;
        }

        .goal {
            background: linear-gradient(45deg, #4CAF50, #8BC34A);
            font-size: 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            box-shadow: 0 0 30px rgba(76,175,80,0.8);
        }

        .asteroid {
            background: radial-gradient(circle at 30% 30%, #888, #333);
            border-radius: 50%;
        }

        .coin {
            background: radial-gradient(circle at 30% 30%, #ffd700, #ffaa00);
            border-radius: 50%;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .progress-bar {
            position: absolute;
            bottom: 0;
            left: 0;
            height: 5px;
            background: linear-gradient(90deg, #4CAF50, #8BC34A);
            width: 0%;
            transition: width 0.1s linear;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            pointer-events: none;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .hero {
            animation: pulse 0.5s ease-in-out infinite;
        }

        @media (max-width: 850px) {
            .animation-arena {
                width: 95vw;
                height: 60vh;
            }
            .time-display {
                font-size: 3rem;
            }
        }
    </style>
</head>
<body>
    <div class="clock-container">
        <div class="time-display" id="timeDisplay">00:00:00</div>
        <div class="scenario-name" id="scenarioName">Loading Adventure...</div>
    </div>

    <div class="animation-arena" id="arena">
        <div class="hero" id="hero">0</div>
        <div class="progress-bar" id="progressBar"></div>
    </div>

    <script>
        const arena = document.getElementById('arena');
        const hero = document.getElementById('hero');
        const timeDisplay = document.getElementById('timeDisplay');
        const scenarioName = document.getElementById('scenarioName');
        const progressBar = document.getElementById('progressBar');

        let currentAnimation = null;
        let currentMinute = -1;

        const scenarios = [
            {
                name: "The Maze Runner",
                setup: createMazeScenario,
                color: "#667eea"
            },
            {
                name: "Boss Battle Arena",
                setup: createBossBattleScenario,
                color: "#f093fb"
            },
            {
                name: "Platform Jumper",
                setup: createPlatformScenario,
                color: "#4facfe"
            },
            {
                name: "Asteroid Field",
                setup: createAsteroidScenario,
                color: "#43e97b"
            },
            {
                name: "Obstacle Course",
                setup: createObstacleScenario,
                color: "#fa709a"
            },
            {
                name: "Coin Collector",
                setup: createCoinScenario,
                color: "#ffd700"
            },
            {
                name: "The Gauntlet",
                setup: createGauntletScenario,
                color: "#ff6b6b"
            },
            {
                name: "Dance Battle",
                setup: createDanceScenario,
                color: "#ee0979"
            },
            {
                name: "Speed Racer",
                setup: createRaceScenario,
                color: "#00f260"
            },
            {
                name: "Tower Climber",
                setup: createTowerScenario,
                color: "#a8edea"
            }
        ];

        function clearArena() {
            const children = arena.children;
            for (let i = children.length - 1; i >= 0; i--) {
                if (children[i].id !== 'hero' && children[i].id !== 'progressBar') {
                    children[i].remove();
                }
            }
        }

        function createWall(x, y, width, height) {
            const wall = document.createElement('div');
            wall.className = 'wall';
            wall.style.left = x + 'px';
            wall.style.top = y + 'px';
            wall.style.width = width + 'px';
            wall.style.height = height + 'px';
            arena.appendChild(wall);
            return wall;
        }

        function createEnemy(x, y, size = 50) {
            const enemy = document.createElement('div');
            enemy.className = 'enemy';
            enemy.style.left = x + 'px';
            enemy.style.top = y + 'px';
            enemy.style.width = size + 'px';
            enemy.style.height = size + 'px';
            enemy.textContent = 'ðŸ‘¾';
            arena.appendChild(enemy);
            return enemy;
        }

        function createPlatform(x, y, width, height) {
            const platform = document.createElement('div');
            platform.className = 'platform';
            platform.style.left = x + 'px';
            platform.style.top = y + 'px';
            platform.style.width = width + 'px';
            platform.style.height = height + 'px';
            arena.appendChild(platform);
            return platform;
        }

        function createAsteroid(x, y, size) {
            const asteroid = document.createElement('div');
            asteroid.className = 'asteroid';
            asteroid.style.left = x + 'px';
            asteroid.style.top = y + 'px';
            asteroid.style.width = size + 'px';
            asteroid.style.height = size + 'px';
            arena.appendChild(asteroid);
            return asteroid;
        }

        function createCoin(x, y) {
            const coin = document.createElement('div');
            coin.className = 'coin';
            coin.style.left = x + 'px';
            coin.style.top = y + 'px';
            coin.style.width = '30px';
            coin.style.height = '30px';
            coin.textContent = 'â—';
            arena.appendChild(coin);
            return coin;
        }

        function createGoal(x, y) {
            const goal = document.createElement('div');
            goal.className = 'goal';
            goal.style.left = x + 'px';
            goal.style.top = y + 'px';
            goal.style.width = '60px';
            goal.style.height = '60px';
            goal.textContent = 'ðŸ';
            arena.appendChild(goal);
            return goal;
        }

        function createMazeScenario(duration) {
            // Create maze walls
            createWall(150, 0, 10, 200);
            createWall(0, 190, 160, 10);
            createWall(300, 100, 10, 300);
            createWall(150, 290, 160, 10);
            createWall(450, 0, 10, 250);
            createWall(450, 350, 10, 150);
            createWall(600, 150, 10, 250);

            const goal = createGoal(720, 420);

            const path = [
                { x: 50, y: 50 },
                { x: 50, y: 250 },
                { x: 220, y: 250 },
                { x: 220, y: 150 },
                { x: 370, y: 150 },
                { x: 370, y: 420 },
                { x: 520, y: 420 },
                { x: 520, y: 100 },
                { x: 670, y: 100 },
                { x: 670, y: 420 },
                { x: 720, y: 420 }
            ];

            return anime.timeline({ duration: duration })
                .add({
                    targets: hero,
                    translateX: path.map(p => p.x),
                    translateY: path.map(p => p.y),
                    easing: 'linear',
                    duration: duration
                });
        }

        function createBossBattleScenario(duration) {
            const boss = createEnemy(650, 200, 100);
            boss.textContent = 'ðŸ‘¹';
            boss.style.fontSize = '4rem';

            const timeline = anime.timeline({ duration: duration });

            // Hero moves in fighting pattern
            timeline.add({
                targets: hero,
                translateX: [
                    { value: 300, duration: duration * 0.2 },
                    { value: 400, duration: duration * 0.15 },
                    { value: 300, duration: duration * 0.15 },
                    { value: 450, duration: duration * 0.2 },
                    { value: 550, duration: duration * 0.3 }
                ],
                translateY: [
                    { value: 250, duration: duration * 0.2 },
                    { value: 150, duration: duration * 0.15 },
                    { value: 350, duration: duration * 0.15 },
                    { value: 250, duration: duration * 0.2 },
                    { value: 250, duration: duration * 0.3 }
                ],
                rotate: [0, 360, 720, 1080],
                easing: 'easeInOutQuad'
            }, 0);

            // Boss reacts
            timeline.add({
                targets: boss,
                translateX: [-20, 20, -20, 20, -100],
                opacity: [1, 0.8, 0.6, 0.3, 0],
                scale: [1, 1.1, 1.05, 0.9, 0.5],
                easing: 'easeInOutQuad'
            }, 0);

            return timeline;
        }

        function createPlatformScenario(duration) {
            createPlatform(100, 400, 100, 20);
            createPlatform(250, 320, 100, 20);
            createPlatform(400, 240, 100, 20);
            createPlatform(550, 160, 100, 20);
            createGoal(700, 80);

            return anime({
                targets: hero,
                keyframes: [
                    { translateX: 130, translateY: 360 },
                    { translateX: 130, translateY: 360, translateY: 300 },
                    { translateX: 280, translateY: 280 },
                    { translateX: 280, translateY: 200 },
                    { translateX: 430, translateY: 200 },
                    { translateX: 430, translateY: 120 },
                    { translateX: 580, translateY: 120 },
                    { translateX: 720, translateY: 80 }
                ],
                duration: duration,
                easing: 'easeInOutQuad'
            });
        }

        function createAsteroidScenario(duration) {
            const asteroids = [];
            for (let i = 0; i < 15; i++) {
                const size = 20 + Math.random() * 40;
                const x = Math.random() * 750;
                const y = Math.random() * 450;
                asteroids.push(createAsteroid(x, y, size));
            }

            createGoal(720, 50);

            const timeline = anime.timeline({ duration: duration });

            // Hero weaves through asteroids
            timeline.add({
                targets: hero,
                translateX: [
                    { value: 100 },
                    { value: 200 },
                    { value: 350 },
                    { value: 300 },
                    { value: 500 },
                    { value: 600 },
                    { value: 720 }
                ],
                translateY: [
                    { value: 400 },
                    { value: 300 },
                    { value: 200 },
                    { value: 350 },
                    { value: 150 },
                    { value: 250 },
                    { value: 50 }
                ],
                rotate: 360,
                easing: 'linear'
            }, 0);

            // Asteroids rotate
            asteroids.forEach((asteroid, i) => {
                timeline.add({
                    targets: asteroid,
                    rotate: 360 * (i % 2 === 0 ? 1 : -1),
                    easing: 'linear'
                }, 0);
            });

            return timeline;
        }

        function createObstacleScenario(duration) {
            // Create obstacles that hero must avoid
            const obstacles = [];
            for (let i = 0; i < 8; i++) {
                const obstacle = document.createElement('div');
                obstacle.className = 'obstacle';
                const size = 40 + Math.random() * 30;
                obstacle.style.width = size + 'px';
                obstacle.style.height = size + 'px';
                obstacle.style.left = (100 + i * 90) + 'px';
                obstacle.style.top = (200 + (i % 2) * 100) + 'px';
                arena.appendChild(obstacle);
                obstacles.push(obstacle);
            }

            createGoal(720, 250);

            const timeline = anime.timeline({ duration: duration });

            // Hero zigzags through
            const path = [];
            for (let i = 0; i < 9; i++) {
                path.push({
                    x: i * 90,
                    y: i % 2 === 0 ? 100 : 400
                });
            }

            timeline.add({
                targets: hero,
                translateX: path.map(p => p.x),
                translateY: path.map(p => p.y),
                easing: 'easeInOutSine'
            }, 0);

            // Obstacles pulse
            obstacles.forEach((obstacle, i) => {
                timeline.add({
                    targets: obstacle,
                    scale: [1, 1.3, 1],
                    easing: 'easeInOutQuad',
                    loop: true,
                    duration: 800,
                    delay: i * 100
                }, 0);
            });

            return timeline;
        }

        function createCoinScenario(duration) {
            const coins = [];
            const positions = [
                [100, 100], [200, 150], [300, 100], [400, 200],
                [500, 150], [600, 250], [650, 350], [700, 400]
            ];

            positions.forEach(([x, y]) => {
                coins.push(createCoin(x, y));
            });

            const timeline = anime.timeline({ duration: duration });

            // Hero collects all coins
            timeline.add({
                targets: hero,
                translateX: positions.map(p => p[0]),
                translateY: positions.map(p => p[1]),
                easing: 'linear'
            }, 0);

            // Coins disappear when collected
            coins.forEach((coin, i) => {
                timeline.add({
                    targets: coin,
                    scale: [1, 2, 0],
                    opacity: [1, 1, 0],
                    rotate: 720,
                    easing: 'easeInOutQuad',
                    duration: 300,
                    delay: (duration / positions.length) * i
                }, 0);
            });

            return timeline;
        }

        function createGauntletScenario(duration) {
            // Multiple enemies in a line
            const enemies = [];
            for (let i = 0; i < 6; i++) {
                enemies.push(createEnemy(150 + i * 100, 250 - (i % 2) * 50, 60));
            }

            createGoal(720, 250);

            const timeline = anime.timeline({ duration: duration });

            // Hero punches through
            timeline.add({
                targets: hero,
                translateX: [0, 100, 200, 300, 400, 500, 600, 720],
                translateY: [250, 250, 200, 250, 300, 250, 200, 250],
                scale: [1, 1.5, 1, 1.5, 1, 1.5, 1, 1],
                easing: 'easeInOutQuad'
            }, 0);

            // Enemies get knocked out
            enemies.forEach((enemy, i) => {
                timeline.add({
                    targets: enemy,
                    translateY: -200,
                    rotate: 720,
                    opacity: 0,
                    easing: 'easeInQuad',
                    duration: 400,
                    delay: (duration / 6) * i
                }, 0);
            });

            return timeline;
        }

        function createDanceScenario(duration) {
            // Create dance floor with colored platforms
            const platforms = [];
            const colors = ['rgba(255,0,0,0.3)', 'rgba(0,255,0,0.3)', 'rgba(0,0,255,0.3)', 'rgba(255,255,0,0.3)'];

            for (let i = 0; i < 4; i++) {
                for (let j = 0; j < 4; j++) {
                    const platform = createPlatform(i * 180 + 50, j * 110 + 30, 150, 80);
                    platform.style.background = colors[(i + j) % 4];
                    platforms.push(platform);
                }
            }

            const timeline = anime.timeline({ duration: duration });

            // Hero dances across floor in complex pattern
            const danceSteps = [
                [100, 100], [280, 100], [460, 100], [640, 100],
                [640, 210], [460, 210], [280, 210], [100, 210],
                [100, 320], [280, 320], [460, 320], [640, 320],
                [640, 430], [460, 430], [280, 430], [100, 430]
            ];

            timeline.add({
                targets: hero,
                translateX: danceSteps.map(s => s[0]),
                translateY: danceSteps.map(s => s[1]),
                rotate: 360 * 4,
                scale: [1, 1.3, 1, 1.3, 1, 1.3, 1, 1.3, 1],
                easing: 'easeInOutSine'
            }, 0);

            // Platforms pulse with rhythm
            platforms.forEach((platform, i) => {
                timeline.add({
                    targets: platform,
                    opacity: [0.3, 0.8, 0.3],
                    scale: [1, 1.05, 1],
                    easing: 'easeInOutQuad',
                    duration: duration / 4,
                    loop: true,
                    delay: (i * 50) % 1000
                }, 0);
            });

            return timeline;
        }

        function createRaceScenario(duration) {
            // Create racing track
            const lanes = [];
            for (let i = 0; i < 5; i++) {
                const lane = createPlatform(0, i * 90 + 20, 800, 70);
                lane.style.background = i % 2 === 0 ? 'rgba(100,100,100,0.3)' : 'rgba(150,150,150,0.3)';
                lanes.push(lane);
            }

            // Opponent racers
            const opponents = [
                createEnemy(0, 110, 40),
                createEnemy(0, 290, 40),
                createEnemy(0, 380, 40)
            ];

            opponents.forEach(opp => opp.textContent = 'ðŸŽï¸');

            createGoal(720, 200);

            const timeline = anime.timeline({ duration: duration });

            // Hero races (changing lanes)
            timeline.add({
                targets: hero,
                translateX: [0, 200, 400, 600, 720],
                translateY: [200, 290, 110, 380, 200],
                easing: 'easeInOutQuad'
            }, 0);

            // Opponents race
            opponents.forEach((opp, i) => {
                timeline.add({
                    targets: opp,
                    translateX: 650 + Math.random() * 50,
                    easing: 'linear',
                    duration: duration * (1.1 + i * 0.1)
                }, 0);
            });

            return timeline;
        }

        function createTowerScenario(duration) {
            // Create tower levels
            for (let i = 0; i < 10; i++) {
                const width = 600 - i * 50;
                createPlatform(100 + i * 25, 450 - i * 45, width, 30);
            }

            createGoal(350, 10);

            // Hero climbs the tower
            const positions = [];
            for (let i = 0; i < 10; i++) {
                positions.push({
                    x: 100 + i * 25 + (600 - i * 50) / 2,
                    y: 420 - i * 45
                });
            }
            positions.push({ x: 350, y: 10 });

            return anime({
                targets: hero,
                translateX: positions.map(p => p.x),
                translateY: positions.map(p => p.y),
                rotate: -360,
                scale: [1, 1.2, 1],
                easing: 'easeInOutQuad',
                duration: duration
            });
        }

        function startNewMinute() {
            const now = new Date();
            const minute = now.getMinutes();
            const second = now.getSeconds();

            if (minute === currentMinute) return;

            currentMinute = minute;
            hero.textContent = minute.toString().padStart(2, '0');

            // Clear previous scenario
            clearArena();
            if (currentAnimation) currentAnimation.pause();

            // Reset hero position
            anime.set(hero, { translateX: 50, translateY: 50, rotate: 0, scale: 1, opacity: 1 });

            // Select scenario based on minute
            const scenario = scenarios[minute % scenarios.length];
            scenarioName.textContent = scenario.name;
            document.body.style.background = `linear-gradient(135deg, ${scenario.color} 0%, #764ba2 100%)`;

            // Calculate duration (remaining seconds in minute)
            const remainingSeconds = 60 - second;
            const duration = remainingSeconds * 1000;

            // Start animation
            currentAnimation = scenario.setup(duration);
        }

        function updateClock() {
            const now = new Date();
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const seconds = String(now.getSeconds()).padStart(2, '0');

            timeDisplay.textContent = `${hours}:${minutes}:${seconds}`;

            // Update progress bar
            const secondsIntoMinute = now.getSeconds();
            const progress = (secondsIntoMinute / 60) * 100;
            progressBar.style.width = progress + '%';

            // Check if we need to start a new minute adventure
            startNewMinute();
        }

        // Initialize
        startNewMinute();
        updateClock();
        setInterval(updateClock, 100);
    </script>
</body>
</html>
